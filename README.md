# FlowerDelivery

## Описание проекта

FlowerDelivery — это система, состоящая из двух независимых частей:
1. **Веб-сайт** на Django для заказа и доставки цветов.
2. **Telegram-бот** на aiogram для управления заказами.

Обе части используют общую базу данных SQLite для хранения данных о заказах, пользователях и товарах.

## Функциональность

### Веб-сайт (Django):
### Пользовательская часть:
- Просмотр каталога цветов.
- Регистрация и авторизация.
- Добавление товаров в корзину.
- Оформление заказов с указанием данных для доставки.
- Просмотр истории заказов.
- Оставление отзывов и оценок для товаров.

### Административная часть:
- Управление товарами, заказами и пользователями через Django Admin.
- Просмотр статистики и аналитики заказов.

### Telegram-бот (aiogram):
## Функциональность

### Основные возможности:
- Регистрация и авторизация пользователей.
- Управление корзиной: добавление и удаление товаров.
- Просмотр текущих заказов и их статусов.
- Интерактивные inline-клавиатуры для простого взаимодействия.
- Уведомления о статусе заказов.

### Административные функции:
- Просмотр и управление заказами через интерфейс бота.
- Уведомления об изменении статуса заказа.

## Установка и настройка

### 1. Клонирование репозитория
```bash
git clone https://github.com/your-repo/FlowerDelivery.git
cd FlowerDelivery
```

### 2. Установка зависимостей
Для установки всех зависимостей выполните:
```bash
pip install -r requirements.txt
```

### 3. Настройка переменных окружения
Создайте файл `.env` в директориях:
- `shop_project`
- `tg_bot`

Пример содержимого `shop_project/.env`:
```
DJANGO_SECRET_KEY=your-secret-key
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=127.0.0.1, .localhost
```
Пример содержимого `tg_bot/.env`:
```
BOT_TOKEN=your-telegram-bot-token
DATABASE_PATH=./db.sqlite3
ADMIN_TELEGRAM_ID=your-admin-telegram-id

```

### 4. Миграции базы данных
Примените миграции для базы данных из директории `shop_project`:
```bash
python manage.py makemigrations
python manage.py migrate
```

### 5. Запуск сервера
Запустите Django-сервер разработки из директории `shop_project`:
```bash
python manage.py runserver
```
## Тестирование
Запуск тестов выполняйте из директории `shop_project`: 
```bash
python manage.py test
```
### 6. Запуск Telegram-бота
Выполните из корневой директории проекта:
```bash
python tg_bot\bot.py
```
## Тестирование
Для проверки функциональности бота выполните 
из корневой директории проекта:
```bash
pytest tg_bot/tests/
```
## Используемые технологии
- **Django** — веб-фреймворк для создания сайта.
- **Django Admin** — для управления.
- **django-widget-tweaks** — для удобной настройки форм.
- **django-csp** — для улучшения безопасности.
- **aiogram** — библиотека для разработки Telegram-ботов.
- **SQLite** — база данных.
- **pytest** — для тестирования.
- **pandas** — для аналитики и обработки данных.

## Файловая структура проекта
```
FlowerDelivery/
|-- shop_project/           # Django-проект
|   |-- flower_shop/        # Главный модуль Django
|   |-- delivery/           # Приложение для обработки заказов
|   |-- analytics/          # Модуль аналитики
|   |-- users/              # Приложение для пользователей
|   |-- templates/          # Шаблоны HTML
|   |-- static/             # Статические файлы (CSS, JS, изображения)
|   |-- media/              # Медиа-файлы (загруженные пользователями)
|   |-- .env                # Файл переменных окружения
|   |-- manage.py           # Главный управляющий файл Django
|
|-- tg_bot/                 # Telegram-бот
|   |-- bot.py              # Основной файл бота
|   |-- handlers/           # Обработчики событий
|   |-- keyboards/          # Inline клавиатуры
|   |-- services/           # Логика работы с данными
|   |-- tests/              # Тесты для бота
|   |-- .env                # Файл переменных окружения
|
|-- db.sqlite3              # Общая база данных
|-- requirements.txt        # Список зависимостей проекта
```



## Автор
Проект разработан [Ваше имя или команда].


 
